.container
  %h1
    = @last_temp.temperature
    %small= @last_temp.created_at.in_time_zone("Pacific Time (US & Canada)").strftime("%l:%M %p")

  %canvas#canvas

:javascript
  $(document).ready(function(){
    var data = {
      labels: #{@temperatures.map { |t| t.created_at.in_time_zone("Pacific Time (US & Canada)").strftime("%l:%M %p") }},
      datasets: [
        {
          fillColor : "rgba(220,220,220,0.5)",
          strokeColor : "rgba(220,220,220,1)",
          pointColor : "rgba(220,220,220,1)",
          pointStrokeColor : "#fff",
          data: #{@temperatures.reverse.collect(&:temperature)}
        }
      ]
    }
    myNewChart = new Chart($("#canvas").get(0).getContext("2d")).Line(data)
  });

